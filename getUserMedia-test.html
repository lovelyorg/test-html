<video style="width: 100%; height: 100%" />

<script>
  const constraints = {
    audio: true,
    video: { width: 375 * 2, height: 667 * 2 },
  };

  console.log(navigator.mediaDevices.getUserMedia);

  navigator.mediaDevices
    .getUserMedia(constraints)
    .then((mediaStream) => {
      var video = document.querySelector("video");
      video.srcObject = mediaStream;
      video.onloadedmetadata = function (e) {
        video.play();
        alert(1);
        alert(video.srcObject)
      };
      alert(2);
    })
    .catch((e) => {
      console.error(e);
      alert(e.message);
    });
</script>
